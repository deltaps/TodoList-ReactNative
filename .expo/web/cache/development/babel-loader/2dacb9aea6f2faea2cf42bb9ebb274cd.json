{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { updateTaskList, updateTaskList2 } from \"../API/todoAPI\";\nimport { TokenContext, UsernameContext } from \"../Context/Context\";\nexport default function TodoItem(props) {\n  var _useContext = useContext(UsernameContext),\n      _useContext2 = _slicedToArray(_useContext, 2),\n      user = _useContext2[0],\n      setUser = _useContext2[1];\n\n  var _useContext3 = useContext(TokenContext),\n      _useContext4 = _slicedToArray(_useContext3, 2),\n      token = _useContext4[0],\n      setToken = _useContext4[1];\n\n  var _useState = useState(props.item.done),\n      _useState2 = _slicedToArray(_useState, 2),\n      done = _useState2[0],\n      setDone = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      id = _useState4[0],\n      setId = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n\n  var changeDone = function changeDone(state) {\n    updateTaskList(token, id, state).then(function () {\n      setDone(state);\n      props.onPressed(state ? 1 : -1);\n    });\n  };\n\n  useEffect(function () {\n    setId(props.id);\n    changeDone(props.item.done);\n  }, [props]);\n  return props.beDone ? React.createElement(View, {\n    style: styles.content\n  }, done ? React.createElement(Switch, {\n    value: done,\n    onValueChange: function onValueChange(state) {\n      changeDone(state);\n    }\n  }) : null, done ? React.createElement(Text, {\n    style: [styles.text_item, {\n      textDecorationLine: done ? 'line-through' : 'none'\n    }]\n  }, props.item.content) : null, done ? isLoading ? React.createElement(ActivityIndicator, {\n    size: \"small\",\n    color: \"#5B8266\"\n  }) : React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setIsLoading(true);\n      props.deleteTodo(props.item.id);\n    }\n  }, React.createElement(Image, {\n    source: require(\"../assets/trash-can-outline.png\"),\n    style: {\n      height: 24,\n      width: 24\n    }\n  })) : null) : props.beNotDone ? React.createElement(View, {\n    style: styles.content\n  }, !done ? React.createElement(Switch, {\n    value: done,\n    onValueChange: function onValueChange(state) {\n      changeDone(state);\n    }\n  }) : null, !done ? React.createElement(Text, {\n    style: [styles.text_item, {\n      textDecorationLine: done ? 'line-through' : 'none'\n    }]\n  }, props.item.content) : null, !done ? isLoading ? React.createElement(ActivityIndicator, {\n    size: \"small\",\n    color: \"#5B8266\"\n  }) : React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setIsLoading(true);\n      props.deleteTodo(props.item.id);\n    }\n  }, React.createElement(Image, {\n    source: require(\"../assets/trash-can-outline.png\"),\n    style: {\n      height: 24,\n      width: 24\n    }\n  })) : null) : React.createElement(View, {\n    style: styles.content\n  }, React.createElement(Switch, {\n    value: done,\n    onValueChange: function onValueChange(state) {\n      changeDone(state);\n    }\n  }), React.createElement(Text, {\n    style: [styles.text_item, {\n      textDecorationLine: done ? 'line-through' : 'none'\n    }]\n  }, props.item.content), isLoading ? React.createElement(ActivityIndicator, {\n    size: \"small\",\n    color: \"#5B8266\"\n  }) : React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setIsLoading(true);\n      props.deleteTodo(props.item.id);\n    }\n  }, React.createElement(Image, {\n    source: require(\"../assets/trash-can-outline.png\"),\n    style: {\n      height: 24,\n      width: 24\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  content: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  text_item: {\n    marginLeft: 10,\n    width: 150\n  }\n});","map":{"version":3,"sources":["C:/Users/sacha/Documents/License-informatique/L3/semestre2/devMobile/TP2/app/components/TodoItem.js"],"names":["React","useContext","useEffect","useState","updateTaskList","updateTaskList2","TokenContext","UsernameContext","TodoItem","props","user","setUser","token","setToken","item","done","setDone","id","setId","isLoading","setIsLoading","changeDone","state","then","onPressed","beDone","styles","content","text_item","textDecorationLine","deleteTodo","require","height","width","beNotDone","StyleSheet","create","flexDirection","justifyContent","alignItems","marginLeft"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from \"react\";\nimport {Image, View, Text, StyleSheet, Switch, TouchableOpacity, ActivityIndicator} from 'react-native';\nimport {updateTaskList, updateTaskList2} from \"../API/todoAPI\";\nimport {TokenContext, UsernameContext} from \"../Context/Context\";\n\nexport default function TodoItem(props) {\n\n    const [user,setUser] = useContext(UsernameContext)\n    const [token,setToken] = useContext(TokenContext)\n    const [done, setDone] = useState(props.item.done);\n    const [id,setId] = useState(null);\n    const [isLoading,setIsLoading] = useState(false);\n\n    const changeDone = (state) => {\n        updateTaskList(token,id,state)\n            .then(() => {\n                setDone(state)\n                props.onPressed(state ? 1 : -1)\n            })\n    }\n\n    useEffect(() => {\n        setId(props.id)\n        changeDone(props.item.done)\n    }, [props])\n\n    return (props.beDone ?\n        (\n            <View style={styles.content}>\n                {done ? (<Switch value={done} onValueChange={(state) => {changeDone(state)}} />) : null}\n                {done ? (<Text style={[styles.text_item, { textDecorationLine: done ? 'line-through' : 'none' }]}>{props.item.content}</Text>) : null}\n                {done ? (\n                    isLoading ? (\n                            <ActivityIndicator size=\"small\" color=\"#5B8266\" />\n                        ) : (\n                            <TouchableOpacity onPress={() => {\n                            setIsLoading(true)\n                            props.deleteTodo(props.item.id)\n                            }\n                            }>\n                                <Image source={require('../assets/trash-can-outline.png')} style={{ height: 24, width: 24 }} />\n                            </TouchableOpacity>\n                        )\n                    ) : null}\n\n            </View>\n        ) :\n    (props.beNotDone ?\n        (\n            <View style={styles.content}>\n                {!done ? (<Switch value={done} onValueChange={(state) => {changeDone(state)}} />) : null}\n                {!done ? (<Text style={[styles.text_item, { textDecorationLine: done ? 'line-through' : 'none' }]}>{props.item.content}</Text>) : null}\n                {!done ? (\n                    isLoading ? (\n                        <ActivityIndicator size=\"small\" color=\"#5B8266\" />\n                    ) : (\n                        <TouchableOpacity onPress={() =>\n                    {\n                        setIsLoading(true)\n                        props.deleteTodo(props.item.id)\n                    }\n                    }>\n                        <Image source={require('../assets/trash-can-outline.png')} style={{ height: 24, width: 24 }} />\n                    </TouchableOpacity>)\n                    ) : null}\n\n            </View>\n        )\n        :\n           (\n               <View style={styles.content}>\n                   <Switch value={done} onValueChange={(state) => {changeDone(state)}} />\n                   <Text style={[styles.text_item, { textDecorationLine: done ? 'line-through' : 'none' }]}>{props.item.content}</Text>\n                   {isLoading ? (\n                       <ActivityIndicator size=\"small\" color=\"#5B8266\" />\n                   ) : (\n                       <TouchableOpacity onPress={() => {\n                       setIsLoading(true)\n                       props.deleteTodo(props.item.id)\n                   }}>\n                       <Image source={require('../assets/trash-can-outline.png')} style={{ height: 24, width: 24 }} />\n                   </TouchableOpacity>\n                   )}\n\n\n               </View>\n           )\n        )\n    )\n}\n\nconst styles = StyleSheet.create({\n    content: {\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    text_item: {\n        marginLeft: 10,\n        width: 150\n    }\n})"]},"metadata":{},"sourceType":"module"}
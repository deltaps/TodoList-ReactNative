{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useContext, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { RoleContext, UsernameContext } from \"../Context/Context\";\nimport { checkRole } from \"../API/todoAPI\";\nexport default function HomeScreen() {\n  var _useContext = useContext(UsernameContext),\n      _useContext2 = _slicedToArray(_useContext, 2),\n      username = _useContext2[0],\n      setUsername = _useContext2[1];\n\n  var _useContext3 = useContext(RoleContext),\n      _useContext4 = _slicedToArray(_useContext3, 2),\n      role = _useContext4[0],\n      setRole = _useContext4[1];\n\n  useEffect(function () {\n    checkRole(username, token).then(function (data) {\n      console.log(data[0].roles[0]);\n    }).catch(function (error) {\n      setErreur(error);\n    });\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(Text, null, \"Welcome !\"), React.createElement(Text, null, \"You are logged as \", username));\n}","map":{"version":3,"sources":["C:/Users/sacha/Documents/License-informatique/L3/semestre2/devMobile/TP2/app/Screen/HomeScreen.js"],"names":["React","useContext","useEffect","RoleContext","UsernameContext","checkRole","HomeScreen","username","setUsername","role","setRole","token","then","data","console","log","roles","catch","error","setErreur"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,QAA2C,OAA3C;;;AAEA,SAAQC,WAAR,EAAqBC,eAArB;AACA,SAAQC,SAAR;AAGA,eAAe,SAASC,UAAT,GAAuB;AAClC,oBAAgCL,UAAU,CAACG,eAAD,CAA1C;AAAA;AAAA,MAAOG,QAAP;AAAA,MAAiBC,WAAjB;;AACA,qBAAuBP,UAAU,CAACE,WAAD,CAAjC;AAAA;AAAA,MAAOM,IAAP;AAAA,MAAYC,OAAZ;;AAEAR,EAAAA,SAAS,CAAC,YAAM;AACZG,IAAAA,SAAS,CAACE,QAAD,EAAUI,KAAV,CAAT,CACKC,IADL,CACU,UAACC,IAAD,EAAU;AAEZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAAC,CAAD,CAAJ,CAAQG,KAAR,CAAc,CAAd,CAAZ;AACH,KAJL,EAKKC,KALL,CAKW,UAACC,KAAD,EAAW;AACdC,MAAAA,SAAS,CAACD,KAAD,CAAT;AACH,KAPL;AAQH,GATQ,EASP,EATO,CAAT;AAUA,SACI,0CACI,oBAAC,IAAD,oBADJ,EAEI,oBAAC,IAAD,8BAAyBX,QAAzB,CAFJ,CADJ;AAMH","sourcesContent":["import React, {useContext, useEffect} from 'react'\r\nimport { View, Text } from 'react-native'\r\nimport {RoleContext, UsernameContext} from \"../Context/Context\";\r\nimport {checkRole} from \"../API/todoAPI\";\r\n\r\n\r\nexport default function HomeScreen () {\r\n    const [username, setUsername] = useContext(UsernameContext)\r\n    const [role,setRole] = useContext(RoleContext)\r\n\r\n    useEffect(() => {\r\n        checkRole(username,token)\r\n            .then((data) => {\r\n                //setRole(data[0].roles[0])\r\n                console.log(data[0].roles[0])\r\n            })\r\n            .catch((error) => {\r\n                setErreur(error)\r\n            })\r\n    },[])\r\n    return (\r\n        <>\r\n            <Text>Welcome !</Text>\r\n            <Text>You are logged as {username}</Text>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}